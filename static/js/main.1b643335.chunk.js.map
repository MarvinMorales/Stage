{"version":3,"sources":["images/TOP1.jpg","images/BOTTOM1.jpg","images/loading.gif","views/Main.js","views/Error.js","App.js","reportWebVitals.js","index.js"],"names":["Main","ticket","useParams","useState","url","setUrl","userAgent","setUserAgent","loading","setLoading","useEffect","b","ba","ua","navigator","i","length","indexOf","ws","WebSocket","onopen","event","send","JSON","stringify","type","key","browser","onmessage","_msg","parse","data","console","log","onclose","link","className","src","loadingV","id","top","autoplay","controls","width","height","isMuted","returnFLV","bottom","Error","App","exact","path","children","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAAe,G,MAAA,IAA0B,kCCA1B,MAA0B,oCCA1B,MAA0B,oC,gCCgF1BA,EAvEF,WAAO,IACVC,EAAWC,cAAXD,OADS,EAEOE,mBAAS,IAFhB,mBAERC,EAFQ,KAEHC,EAFG,OAGmBF,mBAAS,IAH5B,mBAGRG,EAHQ,KAGGC,EAHH,OAIeJ,oBAAS,GAJxB,mBAIRK,EAJQ,KAICC,EAJD,KAMfC,qBAAU,WAGN,IAFA,IACIC,EADAC,EAAK,CAAC,SAAU,UAAW,SAAU,QAAS,QAC3CC,EAAKC,UAAUR,UACbS,EAAI,EAAGA,EAAIH,EAAGI,OAAQD,IAC3B,GAAIF,EAAGI,QAAQL,EAAGG,KAAO,EAAG,CAAEJ,EAAIC,EAAGG,GAAI,MAC3CR,EAAaI,GAEf,IAAMO,EAAK,IAAIC,UAAU,+BACrBD,EAAGE,OAAS,SAACC,GACbH,EAAGI,KAAKC,KAAKC,UAAU,CAACC,KAAM,aAAcC,IAAKzB,EAAQ0B,QAAShB,MAGtEO,EAAGU,UAAY,SAACP,GACZ,IAAIQ,EAAON,KAAKO,MAAMT,EAAMU,MAE5B,OADAC,QAAQC,IAAIJ,GACLA,EAAKJ,MACR,IAAK,iBACDpB,EAAOwB,EAAKzB,KACZK,GAAYD,GACZ,MACJ,IAAK,gBACDU,EAAGI,KAAKC,KAAKC,UAAU,CAACC,KAAM,gBAC9B,MACJ,QACIO,QAAQC,IAAI,KAKxBf,EAAGgB,QAAU,SAACb,GACVW,QAAQC,IAAI,wBAEjB,IAEH,IAMmBE,EAMnB,OAAI3B,EAEI,qBAAK4B,UAAU,cAAf,SACI,qBAAKC,IAAKC,EAAUC,GAAG,cAK3B,sBAAKH,UAAU,UAAf,UACI,qBAAKC,IAAKG,EAAKD,GAAG,QAClB,qBAAKH,UAAU,YAAf,SACoB,WAAd9B,GAjBC6B,EAiBkC/B,EAhBjD4B,QAAQC,IAAI,cACL,cAAC,IAAD,CAAgB7B,IAAK+B,EAAMM,UAAU,EAC5CC,UAAU,EAAMC,MAAM,OAAOC,OAAO,UATtB,SAACT,GAEf,OADAH,QAAQC,IAAI,cACL,cAAC,iBAAD,CAAgB7B,IAAK+B,EAAMQ,MAAM,OACxCD,UAAU,EAAMG,SAAS,IAoB+BC,CAAU1C,KAE1D,qBAAKiC,IAAKU,EAAQR,GAAG,eC9DtBS,EATD,WACV,OACI,sBAAKZ,UAAU,WAAf,UACI,mBAAGG,GAAG,QAAN,uBACA,4BAAG,0DCSAU,MAXf,WACE,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,SAAW,cAAC,EAAD,MACjC,cAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,yBAAyBC,SAAW,cAAC,EAAD,YCE/CC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.1b643335.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/TOP1.a096cb8f.jpg\";","export default __webpack_public_path__ + \"static/media/BOTTOM1.15afeddf.jpg\";","export default __webpack_public_path__ + \"static/media/loading.92b759df.gif\";","import React, {useEffect, useState} from 'react';\r\nimport './Main.css';\r\nimport top from '../images/TOP1.jpg';\r\nimport bottom from '../images/BOTTOM1.jpg';\r\nimport loadingV from '../images/loading.gif';\r\nimport ReactHlsPlayer from 'react-hls-player';\r\nimport { useParams } from \"react-router-dom\";\r\nimport {ReactFlvPlayer} from 'react-flv-player';\r\n\r\nconst Main = () => {\r\n    let { ticket } = useParams();\r\n    const [url, setUrl] = useState(\"\");\r\n    const [userAgent, setUserAgent] = useState(\"\");\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        var ba = ['Chrome', 'Firefox', 'Safari', 'Opera', 'MSIE'];\r\n        var b, ua = navigator.userAgent;\r\n        for (var i = 0; i < ba.length; i++) {\r\n            if (ua.indexOf(ba[i]) > -1) { b = ba[i]; break; }\r\n        } setUserAgent(b);\r\n\r\n        const ws = new WebSocket('wss://31af2645a47f.ngrok.io');\r\n            ws.onopen = (event) => {\r\n            ws.send(JSON.stringify({type: \"NEW_CLIENT\", key: ticket, browser: b}));\r\n        }\r\n\r\n        ws.onmessage = (event) => {\r\n            let _msg = JSON.parse(event.data);\r\n            console.log(_msg)\r\n            switch(_msg.type) {\r\n                case \"ACCESS_ALLOWED\":\r\n                    setUrl(_msg.url);\r\n                    setLoading(!loading);\r\n                    break;\r\n                case \"ARE_YOU_ALIVE\":\r\n                    ws.send(JSON.stringify({type: \"I_AM_ALIVE\"}))\r\n                    break;\r\n                default:\r\n                    console.log(1)\r\n                    break;\r\n            }\r\n        }\r\n\r\n        ws.onclose = (event) => {\r\n            console.log('conection closed!')\r\n        }\r\n    }, []);\r\n\r\n    const returnFLV = (link) => {\r\n        console.log(\"FLV Player\");\r\n        return <ReactFlvPlayer url={link} width=\"100%\" \r\n        controls={true} isMuted={false} />\r\n    }\r\n\r\n    const returnHLS = (link) => {\r\n        console.log(\"HLS Player\")\r\n        return <ReactHlsPlayer url={link} autoplay={true} \r\n        controls={true} width=\"100%\" height=\"auto\" />\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"fullLoading\">\r\n                <img src={loadingV} id=\"loading\"/>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <div className=\"maindiv\">\r\n                <img src={top} id=\"top\"/>\r\n                <div className=\"container\">\r\n                    { userAgent === \"Safari\" ? returnHLS(url) : returnFLV(url)}\r\n                </div>\r\n                <img src={bottom} id=\"bottom\"/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport './Main.css';\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className=\"maindiv2\">\r\n            <p id=\"error\">Error 204</p>\r\n            <i><p>Acceso restringido!</p></i>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Error;","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Main from './views/Main';\nimport Error from './views/Error';\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\" children={ <Error/> } />\n        <Route exact path=\"/streamingCode/:ticket\" children={ <Main/> }/>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}